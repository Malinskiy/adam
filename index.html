<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/adam/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/adam/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-185620090-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-185620090-1', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/adam/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/adam/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Home | Adam</title><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Home" /><meta property="og:locale" content="en_US" /><meta name="description" content="A Coroutine-friendly Android Debug Bridge client written in Kotlin" /><meta property="og:description" content="A Coroutine-friendly Android Debug Bridge client written in Kotlin" /><link rel="canonical" href="https://malinskiy.github.io/adam/" /><meta property="og:url" content="https://malinskiy.github.io/adam/" /><meta property="og:site_name" content="Adam" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Home" /> <script type="application/ld+json"> {"description":"A Coroutine-friendly Android Debug Bridge client written in Kotlin","url":"https://malinskiy.github.io/adam/","@type":"WebSite","headline":"Home","name":"Adam","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://malinskiy.github.io/adam/assets/images/adam.png"}},"@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="https://malinskiy.github.io/adam/" class="site-title lh-tight"><div class="site-logo"></div></a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><div class="nav-category">Documentation</div><ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://malinskiy.github.io/adam/docs/shell" class="nav-list-link">Shell</a><ul class="nav-list "><li class="nav-list-item "><a href="https://malinskiy.github.io/adam/docs/shell/shell-v2/" class="nav-list-link">Shell v2</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://malinskiy.github.io/adam/docs/package-management/package-management/" class="nav-list-link">Package management</a><ul class="nav-list "><li class="nav-list-item "><a href="https://malinskiy.github.io/adam/docs/package-management/sideload/" class="nav-list-link">Sideload</a></ul><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/monitor-devices" class="nav-list-link">Device management</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://malinskiy.github.io/adam/docs/files" class="nav-list-link">Files</a><ul class="nav-list "><li class="nav-list-item "><a href="https://malinskiy.github.io/adam/docs/files/recommended/" class="nav-list-link">Recommended mode</a><li class="nav-list-item "><a href="https://malinskiy.github.io/adam/docs/files/compat/" class="nav-list-link">Compatibility mode</a><li class="nav-list-item "><a href="https://malinskiy.github.io/adam/docs/files/sync-v1/" class="nav-list-link">sync v1</a><li class="nav-list-item "><a href="https://malinskiy.github.io/adam/docs/files/sync-v2/" class="nav-list-link">sync v2</a><li class="nav-list-item "><a href="https://malinskiy.github.io/adam/docs/files/ls/" class="nav-list-link">ls wrapper</a></ul><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/emu" class="nav-list-link">Emulator</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/props/get-properties/" class="nav-list-link">Device properties (getprop)</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/instrumentation/test-runner/" class="nav-list-link">Test runner (am instrument)</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/screen-capture/screenshot/" class="nav-list-link">Screenshot</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/logcat/logcat/" class="nav-list-link">Logcat</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/port-forwarding/port-forwarding/" class="nav-list-link">Port forwarding</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/abb" class="nav-list-link">Android Binder Bridge</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/adbd" class="nav-list-link">adbd (on-device)</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/misc/misc/" class="nav-list-link">Miscellaneous</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/caveats/" class="nav-list-link">Caveats</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/docs/api/" class="nav-list-link">API</a></ul><div class="nav-category">Tutorials</div><ul class="nav-list"><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/tutorials/1-shell/" class="nav-list-link">1. Execute shell request</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/tutorials/2-logcat/" class="nav-list-link">2. Stream logcat</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/tutorials/3-install-package/" class="nav-list-link">3. Install package</a></ul><div class="nav-category">Add-ons</div><ul class="nav-list"><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/extensions/1-android-junit/" class="nav-list-link">Android JUnit 4 rules</a><li class="nav-list-item"><a href="https://malinskiy.github.io/adam/extensions/2-android-event-producers/" class="nav-list-link">Android test metric producers</a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Adam" aria-label="Search Adam" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/Malinskiy/adam" class="site-button" > Adam on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><div id="main-content" class="main-content" role="main"><h1 id="adam"> <a href="#adam" class="anchor-heading" aria-labelledby="adam"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Adam</h1><p>Android Debug Bridge helper written in Kotlin</p><p><a href="#getting-started" class="btn btn-primary fs-5 mb-4 mb-md-0 mr-2">Get started now</a> <a href="https://github.com/Malinskiy/adam" class="btn fs-5 mb-4 mb-md-0">View it on GitHub</a></p><h2 id="motivation"> <a href="#motivation" class="anchor-heading" aria-labelledby="motivation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Motivation</h2><p>The only way to get access to the adb programmatically from java world currently is to use the ddmlib java project. Unfortunately it has several limitations, namely:</p><ol><li>Sub-optimal resources usage<li>Code is not tested properly<li>Limitations of adb server are propagated to the user of ddmlib</ol><p>To optimize the resources usage adam uses coroutines instead of blocking threads. This reduced the load dramatically for scenarios where dozens of devices are connected and are communicated with. Full E2E testing with at least Android emulator is also used to guarantee stability.</p><h2 id="supported-functionality"> <a href="#supported-functionality" class="anchor-heading" aria-labelledby="supported-functionality"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Supported functionality</h2><ul><li>Shell<ul><li>Basic <code class="language-plaintext highlighter-rouge">shell:</code> support (with stdout and patched exit code)<li>shell_v2 support (with separated stdout, stderr and exit code as well as stdin)<li>Exec shell with stdin on legacy devices without shell_v2 support</ul><li>Package install, uninstall, list<ul><li>Streaming installation<li>Atomic multi-package installation<li>Apk split installation<li>Supports APEX<li>Sideload (with pre-KitKat support)<li>Install sessions support</ul><li>Device management<ul><li>List connected devices<li>Monitor connected devices continuously<li>Fetch device features<li>Connect/disconnect/reconnect device<li>adb over WiFi pairing setup<li>Reboot device</ul><li>Files<ul><li>List file using <code class="language-plaintext highlighter-rouge">ls</code><li>Push/pull files and folders(recursive)<li>Stat, list, pull and push using <code class="language-plaintext highlighter-rouge">sync:</code><li>Support for stat_v2, sendrecv_v2, ls_v2</ul><li>Emulator commands (<code class="language-plaintext highlighter-rouge">gsm call</code>, <code class="language-plaintext highlighter-rouge">rotate</code>, etc)<li>Props<ul><li>Get single prop<li>Get all props</ul><li>Instrumented tests<ul><li>Raw output parsing<li>Proto output parsing</ul><li>Screen capture<ul><li>Dynamic adapters with raw buffer and fast BufferedImage conversion<li>Supports legacy devices as well as new sRGB and DCI-P3 ones</ul><li>Logcat<ul><li>Fetch logcat log<li>Monitor logcat continuously</ul><li>Port-forwarding (including reverse port-forwarding)<ul><li>List ports<li>Add rule<li>Remove rule<li>Remove all rules</ul><li>Android Binder Bridge: “abb” and “abb_exec”<li>Restart adbd on device: “root:”, “unroot:”, as well as switching transport “usb:”, “tcpip:”<li>Miscellaneous<ul><li>Fetch adb server version<li>Kill adb server<li>Remount partition<li>Enable/disable dm-verity checking on userdebug builds<li>Fetch host features<li>Check if mDNS discovery is available<li>List all mDNS discovered services</ul></ul><p>Not to mention any device shell commands.</p><h1 id="getting-started"> <a href="#getting-started" class="anchor-heading" aria-labelledby="getting-started"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting started</h1><p><img src="https://img.shields.io/maven-central/v/com.malinskiy.adam/adam" alt="Maven Central" /></p><p>To add a dependency on Adam using Maven, use the following:</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.malinskiy.adam<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>adam<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>X.X.X<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div><p>To add a dependency using Gradle:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dependencies {
  implementation 'com.malinskiy.adam:adam:X.X.X'
}
</code></pre></div></div><h1 id="basic-usage-example"> <a href="#basic-usage-example" class="anchor-heading" aria-labelledby="basic-usage-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Basic usage example</h1><div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Start the adb server</span>
<span class="nc">StartAdbInteractor</span><span class="p">().</span><span class="nf">execute</span><span class="p">()</span>

<span class="c1">//Create adb client</span>
<span class="kd">val</span> <span class="py">adb</span> <span class="p">=</span> <span class="nc">AndroidDebugBridgeClientFactory</span><span class="p">().</span><span class="nf">build</span><span class="p">()</span>

<span class="c1">//Execute a request</span>
<span class="kd">val</span> <span class="py">output</span> <span class="p">=</span> <span class="n">adb</span><span class="p">.</span><span class="nf">execute</span><span class="p">(</span><span class="nc">ShellCommandRequest</span><span class="p">(</span><span class="s">"echo hello"</span><span class="p">),</span> <span class="s">"emulator-5554"</span><span class="p">)</span>
<span class="nf">println</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="c1">// hello</span>
</code></pre></div></div><h2 id="about-the-project"> <a href="#about-the-project" class="anchor-heading" aria-labelledby="about-the-project"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> About the project</h2><p>Adam is © 2019-2025 by <a href="http://github.com/Malinskiy">Anton Malinskiy</a>.</p><h3 id="license"> <a href="#license" class="anchor-heading" aria-labelledby="license"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> License</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre></div></div><h3 id="contributing"> <a href="#contributing" class="anchor-heading" aria-labelledby="contributing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Contributing</h3><p>When contributing to this repository, please first discuss the change you wish to make via issue, email, or <a href="https://bit.ly/2LLghaW">Slack #adam</a> with the owners of this repository before making a change.</p><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/Malinskiy/adam/tree/master/docs/index.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
